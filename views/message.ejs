<h2>Chat with <%= otherUser.name %></h2>

<div style="height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; background: #f9f9f9;">
  <% messages.forEach(msg => { %>
    <div style="margin: 10px 0;">
      <strong>
        <%= (msg.sender.toString() === user._id.toString()) ? "You" : otherUser.name %>:
      </strong>
      <%= msg.text %>
    </div>
  <% }) %>
</div>

<form method="POST" action="/messages" style="margin-top: 10px; display: flex; gap: 5px;">
  <input type="text" name="text" placeholder="Type a message..." required style="flex: 1; padding: 8px;"/>
  <button type="submit" style="padding: 8px 12px; background: #4f46e5; color: white; border: none; border-radius: 4px;">
    Send
  </button>
</form>

<a href="/dashboard" style="display: inline-block; margin-top: 10px; color: #4f46e5;">â¬… Back to Dashboard</a>s